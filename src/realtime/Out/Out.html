<script type="text/x-red" data-template-name="Realtime DB out">
  <div class="form-tips">
    <p>Firebase database communication</p>
    <div class="form-row">
      <label for="node-input-admin"><i class="fa"></i> Firebase Admin</label>
      <input type="text" id="node-input-admin">
    </div>
    <div class="form-row">
      <label for="node-input-name"><i class="fa fa-tag"></i> Node Name </label>
      <input type="text" id="node-input-name">
    </div>
    <div class="form-row">
      <label for="node-input-operation"><i class="fa fa-tag"></i> Write operation </label>
      <select name="operation" id="node-input-operation">
        <option value="set">Set</option>
        <option value="push">Push</option>
      </select>
    </div>
    <div class="form-row">
      <label for="node-input-ref"><i class="fa fa-tag"></i> Database Ref </label>
      <input type="text" id="node-input-ref" placeholder="database ref">
    </div>
  </div>
</script>

<script type="text/x-red" data-help-name="Realtime DB out">
    <p>This node set/push data to the database. If the update is success, it will forward the msg to its output</p>
</script>

<style type="text/css">
  .node_label_white {
    fill: white;
  }
  .node_label_white_italic {
    fill: white;
    font-style: italic;
  }
  #palette_node_firebase_out > div.palette_label {
    color: white;
  }
</style>

<script type="text/javascript">

  RED.nodes.registerType('Realtime DB out',{
    category: 'firebase',
    defaults: {
      name: {required:false},
      ref: {required:true},
      operation: {
        required:true,
        value:"set",
        validate:function(val){
        return val === 'set' || val === 'push'
        }
      },
      admin: {type:"firebase admin",required:true}
    },
    color: "#ffcb2b",
    inputs:1,
    outputs:1,
    icon: "bridge.png",
    align: "right",
    label: function() {
        return this.name || this.ref || "RealTime DB out";
    },
    labelStyle: function() {
        return (this.name || this.ref) ? "node_label_italic" : "";
    }
  });
</script>




